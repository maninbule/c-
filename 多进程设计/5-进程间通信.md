# 进程间通信概念
◼ 进程是一个独立的资源分配单元，不同进程（这里所说的进程通常指的是用户进程）之间
的资源是独立的，没有关联，不能在一个进程中直接访问另一个进程的资源。  
◼ 但是，进程不是孤立的，不同的进程需要进行信息的交互和状态的传递等，因此需要进程
间通信( IPC：Inter Processes Communication )。   
◼ 进程间通信的目的：  
◼ 数据传输：一个进程需要将它的数据发送给另一个进程。  **举例：还没有下载完成的电影，已经在播放器开始播放了**  
◼ 通知事件：一个进程需要向另一个或一组进程发送消息，通知它（它们）发生了某种
事件（如进程终止时要通知父进程）。  
◼ 资源共享：多个进程之间共享同样的资源。为了做到这一点，需要内核提供互斥和同
步机制。  
◼ 进程控制：有些进程希望完全控制另一个进程的执行（如 Debug 进程），此时控制
进程希望能够拦截另一个进程的所有陷入和异常，并能够及时知道它的状态改变。  

# 管道
管道也叫无名（匿名）管道，它是是 UNIX 系统 IPC（进程间通信）的最古老形式，
所有的 UNIX 系统都支持这种通信机制。  
◼ 统计一个目录中文件的数目命令：ls | wc –l，为了执行该命令，shell 创建了两
个进程来分别执行 ls 和 wc  
◼ 管道其实是一个在内核内存中维护的缓冲器，这个缓冲器的存储能力是有限的，不同的
操作系统大小不一定相同。    
◼ 管道拥有文件的特质：读操作、写操作，**匿名管道没有文件实体，有名管道有文件实体，
但不存储数据**。可以按照操作文件的方式对管道进行操作。  
◼ 一个管道是一个**字节流**，使用管道时不存在消息或者消息边界的概念，从管道读取数据
的进程可以读取任意大小的数据块，而不管写入进程写入管道的数据块的大小是多少。  
◼ 通过管道传递的数据是顺序的，从管道中读取出来的字节的顺序和它们被写入管道的顺
序是完全一样的。    
◼ 在管道中的数据的传递方向是**单向的**，一端用于写入，一端用于读取，管道是**半双工**的。
◼ 从管道读数据是一次性操作，数据一旦被读走，它就从管道中被抛弃，释放空间以便写
更多的数据，**在管道中无法使用 lseek() 来随机的访问数据**。  
◼ **匿名管道只能在具有公共祖先的进程（父进程与子进程，或者两个兄弟进程，具有亲缘
关系）之间使用。**  
